# ============================================================================
# AutoML Platform Environment Configuration
# ============================================================================
# Copy this file to .env and update with your values
# ============================================================================

# ---------- Environment ----------
ENVIRONMENT=development  # development, staging, production
LOG_LEVEL=info          # debug, info, warning, error

# ---------- Operation Mode (SaaS) ----------
AUTOML_MODE=standard    # standard, saas
AUTOML_EXPERT_MODE=true # true for developers, false for non-technical users

# ---------- Database ----------
POSTGRES_USER=automl
POSTGRES_PASSWORD=change_me_in_production
POSTGRES_PORT=5432
POSTGRES_MULTIPLE_DATABASES=automl,keycloak,metadata,airflow

# ---------- Redis ----------
REDIS_PASSWORD=change_me_in_production
REDIS_PORT=6379

# ---------- MinIO Object Storage ----------
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=change_me_in_production
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ACCESS_KEY=${MINIO_ROOT_USER}
MINIO_SECRET_KEY=${MINIO_ROOT_PASSWORD}
MINIO_ENDPOINT=minio:9000

# Storage Buckets
S3_BUCKET_MODELS=models
S3_BUCKET_DATASETS=datasets
S3_BUCKET_ARTIFACTS=artifacts
S3_BUCKET_REPORTS=reports

# ---------- MLflow ----------
MLFLOW_PORT=5000
MLFLOW_TRACKING_URI=http://mlflow:5000
MLFLOW_USER=mlflow
MLFLOW_PASSWORD=change_me_in_production
MLFLOW_AUTH_CONFIG=basic

# ---------- API Configuration ----------
API_PORT=8000
API_MAX_WORKERS=4
JWT_SECRET_KEY=your-super-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# CORS Settings
CORS_ORIGINS=http://localhost:3000,http://localhost:8501
RATE_LIMIT_ENABLED=true
DEFAULT_RATE_LIMIT=100

# ---------- UI Dashboard ----------
UI_PORT=8501
UI_FRAMEWORK=streamlit
UI_TITLE=AutoML Platform
UI_THEME=light
MAX_UPLOAD_SIZE=1000  # MB
STREAMLIT_SERVER_MAX_UPLOAD_SIZE=1000

# UI Features
ENABLE_CHAT_ASSISTANT=true
ENABLE_AUTO_ML=true
DEFAULT_LANGUAGE=en  # en, fr, es, de, zh, ja

# UI Features for Non-Technical Users (SaaS)
ENABLE_EXPERT_MODE=true
ENABLE_GUIDED_WORKFLOWS=false
ENABLE_TEMPLATES=false
ENABLE_ONBOARDING_WIZARD=false
ENABLE_INTERACTIVE_TUTORIALS=false
ENABLE_CONTEXTUAL_HELP=false
ENABLE_VIDEO_GUIDES=false
ENABLE_DRAG_DROP_INTERFACE=false
ENABLE_VISUAL_PIPELINE_BUILDER=false
ENABLE_ONE_CLICK_DEPLOYMENT=false

# Technical Features
ENABLE_JUPYTER_NOTEBOOKS=true
ENABLE_CODE_GENERATION=true
ENABLE_ADMIN_PANEL=true

# ---------- Public URLs (for external access) ----------
PUBLIC_API_URL=http://localhost:8000
PUBLIC_UI_URL=http://localhost:8501
PUBLIC_MLFLOW_URL=http://localhost:5000
PUBLIC_KEYCLOAK_URL=http://localhost:8080

# ---------- SSO Authentication ----------
SSO_ENABLED=false
KEYCLOAK_ENABLED=false
KEYCLOAK_HOSTNAME=localhost
KEYCLOAK_PORT=8080
KEYCLOAK_URL=http://keycloak:8080
KEYCLOAK_REALM=automl
KEYCLOAK_CLIENT_ID=automl-platform
KEYCLOAK_CLIENT_SECRET=your-client-secret
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin123

# Alternative SSO Providers
AUTH0_ENABLED=false
OKTA_ENABLED=false
AZURE_AD_ENABLED=false

# ---------- Multi-Tenant Configuration ----------
MULTI_TENANT_ENABLED=false
DEFAULT_TENANT_PLAN=trial
TRIAL_DURATION_DAYS=14
DEFAULT_MAX_WORKERS=2
DEFAULT_MAX_CONCURRENT_JOBS=2
DEFAULT_STORAGE_QUOTA_GB=10
DEFAULT_MONTHLY_COMPUTE_MINUTES=1000
DEFAULT_MAX_PROJECTS=5
DEFAULT_MAX_MODELS=20

# ---------- Worker Configuration ----------
# CPU Workers
CPU_WORKER_REPLICAS=2
CPU_WORKER_CONCURRENCY=4
CPU_WORKER_MEMORY=8
CPU_WORKER_CORES=4

# GPU Workers (optional)
GPU_WORKER_REPLICAS=0  # Set to 1 if you have GPU
CUDA_VISIBLE_DEVICES=0
ENABLE_GPU=false

# Priority Workers (optional)
PRIORITY_WORKER_REPLICAS=0  # Set to 1 for premium features
PRIORITY_WORKER_CONCURRENCY=2
PRIORITY_WORKER_MEMORY=16
PRIORITY_WORKER_CORES=8

# Celery Configuration
CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@redis:6379/0
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@redis:6379/0

# ---------- LLM APIs (optional) ----------
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
ENABLE_AI_ASSISTANT=false

# ---------- Billing (optional) ----------
BILLING_ENABLED=false
STRIPE_API_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_PUBLISHABLE_KEY=

# Pricing Plans
PLAN_FREE_PRICE=0
PLAN_PRO_PRICE=99
PLAN_ENTERPRISE_PRICE=499

# ---------- Monitoring ----------
# Flower (Celery monitoring)
FLOWER_PORT=5555
FLOWER_USER=admin
FLOWER_PASSWORD=admin123

# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_ENABLED=true

# Grafana
GRAFANA_PORT=3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin123
GRAFANA_SSO_ENABLED=false

# ---------- Email Configuration ----------
EMAIL_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@yourdomain.com
SMTP_TLS=true

# ---------- Backup Configuration ----------
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30

# ---------- Security Configuration ----------
ENABLE_HTTPS=false
SSL_CERT_PATH=/etc/ssl/certs/cert.pem
SSL_KEY_PATH=/etc/ssl/private/key.pem
ENABLE_SECURITY_HEADERS=false
ROTATE_SECRETS_ENABLED=false
SESSION_SECRET_KEY=change_me_in_production

# ---------- Workflow Orchestration (optional) ----------
AIRFLOW_ENABLED=false
AIRFLOW_PORT=8082
AIRFLOW_USER=admin
AIRFLOW_PASSWORD=admin123
AIRFLOW_FERNET_KEY=your-fernet-key-generate-with-python
AIRFLOW_SECRET_KEY=your-secret-key

# ---------- Reverse Proxy (production) ----------
HTTP_PORT=80
HTTPS_PORT=443
NGINX_ENABLED=false

# ---------- Resource Limits ----------
# Set these based on your available resources
MAX_MEMORY_PER_CONTAINER=8G
MAX_CPU_PER_CONTAINER=4

# Connection Pools
DB_POOL_SIZE=20
DB_POOL_MAX_OVERFLOW=40
REDIS_POOL_SIZE=50

# Request Timeouts
API_REQUEST_TIMEOUT=60
WORKER_TASK_TIMEOUT=3600
UI_REQUEST_TIMEOUT=30

# ---------- Feature Flags ----------
ENABLE_GPU_SUPPORT=false
ENABLE_MONITORING=true
ENABLE_AUTHENTICATION=false
ENABLE_ORCHESTRATION=false
ENABLE_PRODUCTION_MODE=false

# ---------- Debug Settings ----------
DEBUG=false
TESTING=false
PROFILING_ENABLED=false
SQL_ECHO=false
RELOAD_ON_CHANGE=false

# ---------- Telemetry ----------
TELEMETRY_ENABLED=false
DEPLOYMENT_ID=
DEPLOYMENT_REGION=us-east-1
DEPLOYMENT_PROVIDER=docker

# ---------- License ----------
LICENSE_TYPE=opensource
LICENSE_KEY=
